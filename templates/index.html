
{%extends "base.html" %}
{% load static %}

{% block title %}File Converter by Hakez Labs {% endblock %}

<!-- {% block stylesheets %}
      <link rel="stylesheet" href="{% static 'css/index.css' %}">
      <link rel="stylesheet" href="{% static 'css/results.css' %}">
{% endblock %} -->


{% block content %}
<div class="converter-container">
    <h2>File Converter</h2>
    <p class="tagline">Upload your file and select your desired output format below.
        <i>Docx and docs format may not be converted as it is seen because of compatibility with the conversion software. For more info see about page</i>
    </p>

    <form action="{% url 'convert' %}" method="post" enctype="multipart/form-data" class="conversion-form">
        {% csrf_token %}

        <div class="form-group file-upload-group">
            <label>1. Choose File:</label>
            
            {{ form.input_file }} 
            
            <label id="file-upload" for="file-upload" class="custom-file-upload-button">
                Browse Files
            </label>
            
            <span id="file-name-display" class="file-name-display">No file selected</span>
            
            {% if form.input_file.errors %}
                <div class="error-message">{{ form.input_file.errors }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.convert_to.id_for_label }}">2. Convert TO Type (PDF, etc.):</label>
            {{ form.convert_to }}
        </div>

        <button type="submit" class="submit-button">
            Convert File
        </button>
    </form>

{% block results %}
    
{% endblock %}

</div>



<script>
    // JavaScript to update the displayed file name after selection
    document.addEventListener('DOMContentLoaded', function() {
        const fileInput = document.getElementById('file-upload');
        const fileNameDisplay = document.getElementById('file-name-display');

        if (fileInput) {
            fileInput.addEventListener('change', function() {
                if (this.files.length > 0) {
                    fileNameDisplay.textContent = this.files[0].name;
                } else {
                    fileNameDisplay.textContent = 'No file selected';
                }
            });
        }
    });
</script>
{% endblock %}